<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <style>
      img.center {
        display: block;
        margin: 0 auto;
      }
      table, td, th {  
        border: 1px solid #ddd;
        text-align: left;
      }

      table {
        border-collapse: collapse;
        width: 100%;
      }

      th, td {
        padding: 15px;
      }
      tr:nth-child(even) {background-color: #f2f2f2;}
    </style>

    <title>Instructions</title>
    <link rel="Favicon" href="static/favicon.ico" />

    <script src="static/lib/jquery-min.js" type="text/javascript"> </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
  </head>
  <body>
    <div class="container">
      {% if not psiturk %}
        <h4 class="text-center"><a href="./">Back to game</a></h4>
      {% endif %}
      <p>
        Hello! In this task, you will be playing a
        cooking game. You will play one of two chefs
        in a restaurant that serves various soups.
      </p>

      <br>
      <hr>
      <br>

      <h3 class="text-center">Layouts</h3>
      <p>
        This is what one level of the game looks like:
      </p>
      <img class="center" src="static/images/sample_game.png" style="width:410px">
      <br>
      <p>
        There are a number of objects in the game, labeled here:
      </p>
      <img class="center" src="static/images/sample_game_annotated.png" style="width:800px">

      <br>
      <hr>
      <br>

      <h3 class="text-center">Movement and interactions</h3>
      <img class="center" src="static/images/space-arrows.png" style="width:250px">
      <p>
        You can move up, down, left, and right using
        the <b>arrow keys</b>, and interact with objects
        using the <b>spacebar</b>.
      </p>

      <br>
      <br>
      <p>
        Note that as you and your partner are moving around the kitchen,
        the two of you <u><b>cannot occupy the same location</b></u>.
        <ul>
          <li> Valid movement: attempt to move into empty spaces will succeed
            <img class="center" src="static/images/move_valid.png" style="width:700px">
          </li>
          <li> Invalid movement: attempt to move into your partner will not succeed (and result in no change in location)
            <img class="center" src="static/images/move_invalid.png" style="width:700px">
          </li>
        </ul>
      </p>
      <br>

      <p>
        You can interact with objects by facing them and pressing
        <b>spacebar</b>. Here are some examples:
        <ul>
          <li>If you are holding nothing, you can pick up a dispensed item (onion/plate) by facing
            the dispenser area and pressing <b>spacebar</b>.
            <img class="center" src="static/images/onion_pickup.png" style="width:700px">
            <img class="center" src="static/images/dish_pickup.png" style="width:700px">
          </li>
          <li>If you are holding an onion and facing a pot that is not full,
            and press <b>spacebar</b>, you will put the onion in the pot.
            <img class="center" src="static/images/onion_drop_init.png" style="width:700px">
            <img class="center" src="static/images/onion_drop_more.png" style="width:700px">
          </li>
          <li>If you are holding nothing and facing a pot that is non-empty,
            and press <b>spacebar</b>, you will begin cooking a soup.
            <img class="center" src="static/images/start_cooking.png" style="width:700px">
          </li>
          <li>If you are holding a plate and facing a pot with a fully cooked soup
            and press <b>spacebar</b>, you will pick up the fully cooked soup with the plate.
            <img class="center" src="static/images/soup_pickup.png" style="width:700px">
          </li>
          <li>If you are holding a fully cooked soup and facing a serving station
            and press <b>spacebar</b>, you will serve the fully cooked soup.
            <img class="center" src="static/images/serving.png" style="width:700px">
          </li>
          <li>If you are holding an item (an onion, a plate, or a cooked soup), are facing an empty counter,
            and press <b>spacebar</b>, you put the item on the counter.
            <img class="center" src="static/images/counter_drop_onion.png" style="width:700px">
            <img class="center" src="static/images/counter_drop_dish.png" style="width:700px">
          </li>
          <li>If you are not holding anything, are facing an occupied counter with an item (an onion, a plate, or a cooked soup),
            and press <b>spacebar</b>, you pick up the item from the counter.
            <img class="center" src="static/images/counter_pickup_soup.png" style="width:700px">
          </li>
        </ul>
      </p>
      <br>
      <br>
      <p>
        Common mistakes:
        <ul>
          <li>If you are holding an item, you cannot pick up anything from the dispensers or the counters
            <img class="center" src="static/images/invalid_pickup_dispenser.png" style="width:700px">
            <img class="center" src="static/images/invalid_pickup_counter.png" style="width:700px">
          </li>
          <li>You cannot add an an onion to the pot once cooking starts.
            <img class="center" src="static/images/invalid_onion_drop.png" style="width:700px">
          </li>
          <li>You cannot pick up a soup while it is still cooking in the pot.
            <img class="center" src="static/images/invalid_soup_pickup.png" style="width:700px">
          </li>
        </ul>
      </p>
      <br>

      <br>
      <hr>
      <br>

      <h3 class="text-center">Cooking</h3>
      <img class="center" src="static/images/soup.png" style="width:250px">
      <p>
        Once an ingredient is in the pot, you can begin cooking a soup by pressing 
        <b>spacebar</b> as noted above. You can place up to 3 onions in a pot
        before cooking. 
      </p>
      <p>
        When a soup begins cooking, you'll notice a red number appear over the pot to 
        denote the cook time. This number counts upward until the soup is done.
        All soups (1-onion, 2-onion, and 3-onion) will takes 20 timesteps to cook.
      </p>

      <br>
      <hr>
      <br>

      <h3 class="text-center">Serving</h3>
      <img class="center" src="static/images/serving-counter_mult.png" style="width:800px">
      <p>
        Once the soup is in a bowl, you can serve it by bringing it to
        a grey serving counter.
      </p>
      <br>
      <hr>
      <br>


      <h3 class="text-center">All Orders</h3>
      <p>
        The list of soups that are considered valid (and thus worth points upon delivery).
        <b>The only valid soup in this experiment is a 3-onion soup</b>.
        All other soups (1-onion, 2-onion soups) are invalid, and thus WILL NOT BE WORTH ANY POINTS
      </p>

      <br>
      <hr>
      <br>

      <h3 class="text-center">Bonus Orders</h3>
      <p>
        We will not use this feature
      </p>

      <br>
      <hr>
      <br>

      <h3 class="text-center">Score</h3>
      <p>
        When a 3-onion soup is served at the serving counter, 20 points will be be added to the shared score.
        Serving any invalid soup (1-onion, 2-onion) will not affect your score.
      </p>

      <br>
      <hr>
      <br>

      <h3 class="text-center">Goal</h3>
      <p>
        Your goal in this task is to serve as many of the orders as you can
        before each level ends, and thus earn as high shared score as possible for the team.
        The current all orders, bonus orders, time, and score are all displayed 
        in an info panel below the layout.
      </p>

      <br>
      <hr>
      <br>
    </div>
  </body>
</html>
